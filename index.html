<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grocery Store Homepage</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>Welcome to the Shubham Store</h1>
  </header>

  <main>
    <!-- Search Bar Section -->
    <section>
      <input type="text" id="searchInput" placeholder="Search for products..." onkeyup="filterProducts()">
    </section>

    <section>
      <h2>Products</h2>
      <ul id="productList" class="product-list">
        <!-- Product items will be injected here -->
      </ul>
    </section>

    <!-- Admin Dashboard Shortcut -->
    <section>
      <h3>Admin</h3>
      <a href="admin_dashboard.html" class="admin-link">Go to Admin Dashboard</a>
    </section>
  </main>

  <footer>
    <p>Â© 2024 Shubham Store</p>
  </footer>

  <script>
    // Function to display products from localStorage
    function displayProducts() {
      const productList = document.getElementById('productList');
      const products = JSON.parse(localStorage.getItem('products')) || [];

      // Clear the list before displaying products
      productList.innerHTML = '';

      // Loop through products and create list items
      products.forEach(product => {
        const li = document.createElement('li');
        li.className = 'product-item';

        // Create image element
        const img = document.createElement('img');
        img.src = product.image;
        img.alt = product.name;
        img.className = 'product-image';

        // Create details div
        const details = document.createElement('div');
        details.className = 'product-details';
        details.innerHTML = `<strong>${product.name}</strong><br><span class="product-price">Price: $${product.price} per kg</span>`;

        // Append image and details to the list item
        li.appendChild(img);
        li.appendChild(details);
        
        // Append the list item to the product list
        productList.appendChild(li);
      });
    }

    // Function to filter products based on search input
    function filterProducts() {
      const searchInput = document.getElementById('searchInput').value.toLowerCase();
      const productList = document.getElementById('productList');
      const products = JSON.parse(localStorage.getItem('products')) || [];

      // Clear the current product list
      productList.innerHTML = '';

      // Filter products based on search input and display matching products
      products.forEach(product => {
        if (product.name.toLowerCase().includes(searchInput)) {
          const li = document.createElement('li');
          li.className = 'product-item';

          // Create image element
          const img = document.createElement('img');
          img.src = product.image;
          img.alt = product.name;
          img.className = 'product-image';

          // Create details div
          const details = document.createElement('div');
          details.className = 'product-details';
          details.innerHTML = `<strong>${product.name}</strong><br><span class="product-price">Price: $${product.price} per kg</span>`;

          // Append image and details to the list item
          li.appendChild(img);
          li.appendChild(details);
          
          // Append the list item to the product list
          productList.appendChild(li);
        }
      });
    }

    // Call the function to display products when the page loads
    window.onload = function() {
      displayProducts();
    };
  </script>
</body>
</html>
